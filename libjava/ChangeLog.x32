2011-11-09  H.J. Lu  <hongjiu.lu@intel.com>

	PR libgcj/49193
	* configure.host (sysdeps_dir): Set to i386 for x86_64.

	* sysdep/i386/locks.h (compare_and_swap): Call
	__sync_bool_compare_and_swap.
	(release_set): Call write_barrier ().

	* sysdep/x86-64/locks.h: Removed.
